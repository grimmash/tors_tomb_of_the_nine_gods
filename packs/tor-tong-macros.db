{"name":"24 - T03 - Poisoned Smoke","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"field\",\r\n    filterId: \"mySmokeField\",\r\n    shieldType: 3,\r\n    gridPadding: 1,\r\n    color: 0x60CC70,\r\n    time: 0,\r\n    blend: 0,\r\n    intensity: 0.9,\r\n    lightAlpha: 1,\r\n    lightSize: 0.7,\r\n    scale: 1,\r\n    radius: 1,\r\n    chromatic: false,\r\n    zOrder: 512,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0015, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"iJ0BQkaLPvqMC1vN","core":{"sourceId":"Macro.ihYgP27lMftBlTvQ"}},"_id":"2r0xJG6K9pUKnpnd"}
{"name":"Bloodied","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/ByCR6H2MG93IWgKa/Screenshot 2021-01-30 at 08.38.32.png","scope":"global","command":"let params =\n    [{\n        filterType: \"splash\",\n        filterId: \"mySplash\",\n        rank:5,\n        color: 0x990505,\n        padding: 80,\n        time: Math.random()*500,\n        seed: Math.random()*50,\n        splashFactor: Math.random()/3,\n        spread: Math.random()*3,\n        blend: 3,\n        dimX: 1,\n        dimY: 1,\n        cut: false,\n        textureAlphaBlend: true,\n        anchorX: 0.32+(Math.random()*0.36),\n        anchorY: 0.32+(Math.random()*0.36)\n    }];\n\nTokenMagic.addFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"ByCR6H2MG93IWgKa","core":{"sourceId":"Macro.d2ZXT3UjsxlhuHLw"}},"_id":"42HokFUsevkrq58b"}
{"name":"31 - T01 - Glowing Globes (globes)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params = \r\n[{\r\n    filterType: \"globes\",\r\n    filterId: \"glowingGlobes\",\r\n    time: 0,\r\n    color: 0x5099DD,\r\n    distortion: 0.4,\r\n    scale: 80,\r\n    alphaDiscard: false,\r\n    zOrder: 1,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0005, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}]\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"iY9FFQErULZ1G1nI","core":{"sourceId":"Macro.Z0J9LeSzhDPCOK1x"}},"_id":"5KeWEtMZ5gRTv4tS"}
{"name":"22 - Smoke","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\n[{\n    filterType: \"smoke\",\n    filterId: \"mySmoke\",\n    color: 0xdddddd,\n    time: 0,\n    blend: 3,\n    dimX: 0.8,\n    dimY: 0.8,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.003, \n        animType: \"move\"\n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"BMa7FLgyIa8S04Mk","core":{"sourceId":"Macro.4mUZyGx0DsgblxBX"}},"_id":"8FGMjryIBSIryxNj"}
{"name":"32 - T01 - Solar Ripples (ripples)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params = \r\n[{\r\n    filterType: \"ripples\",\r\n    filterId: \"SolarRipples\",\r\n    color: 0xCC9000,\r\n    time: 0,\r\n    alphaDiscard: false,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0009, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}]\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"DtDGGgFT6LQLbJ6w","core":{"sourceId":"Macro.HhyfuQymS6iwQLPe"}},"_id":"8MrQItoCAFiI2dSy"}
{"name":"29 - T02 - Phase Spider Web (xfog+web)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params = \r\n[{\r\n    filterType: \"web\",\r\n    filterId: \"phaseweb\",\r\n    time: 0,\r\n    animated:\r\n        {\r\n            time:\r\n            {\r\n                active: true,\r\n                speed: 0.0005,\r\n                animType: \"move\"\r\n            }\r\n        }\r\n},\r\n{\r\n    filterType: \"xfog\",\r\n    filterId: \"phaseweb\",\r\n    color: 0x30FF30,\r\n    time: 0,\r\n    animated:\r\n        {\r\n            time:\r\n            {\r\n                active: true,\r\n                speed: 0.0005,\r\n                animType: \"move\"\r\n            }\r\n        }\r\n}]\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"uBmj8sjlY2MXT1yP","core":{"sourceId":"Macro.aUIN9TRK41qCiW6a"}},"_id":"AFsDibavbgWyhSAA"}
{"name":"29 - T01 - Foul Fog (xfog)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/CiSgLXDlUzzKkJwZ/dice-target.svg","scope":"global","command":"let params = \r\n[{\r\n    filterType: \"xfog\",\r\n    filterId: \"foulfog\",\r\n    color: 0xFFFFFF,\r\n    time: 0,\r\n    animated:\r\n        {\r\n            time:\r\n            {\r\n                active: true,\r\n                speed: 0.0005,\r\n                animType: \"move\"\r\n            }\r\n        }\r\n}]\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.T1cSEVif6eETPeQw"},"importid":"CiSgLXDlUzzKkJwZ"},"_id":"I8lGLfOjPLPUYVhO"}
{"name":"Gears Dialog Macro","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"icons/svg/dice-target.svg","scope":"global","command":"//Sound File\n// Replace with the path from within your Foundry Data directctory\nlet sound_file = \"Audio/Sounds/gears_of_hate_2_15s.mp3\"\n\n//Animation Style - See https://easings.net/\nlet easing_func = \"easeInOutCubic\"\n\n// Cog Drawings\nlet cog1d = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\");\nlet cog2d = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\");\nlet cog3d = canvas.drawings.get(\"zU6rNZriEQNvRWA3\");\n// Configuration 1 Cog Rotation Values\nlet con1cog1rot = 198;\nlet con1cog2rot = 140;\nlet con1cog3rot = 232;\n// Configuration 2 Cog Rotation Values\nlet con2cog1rot = 284;\nlet con2cog2rot = 72;\nlet con2cog3rot = 288;\n// Configuration 3 Cog Rotation Values\nlet con3cog1rot = 0;\nlet con3cog2rot = 0;\nlet con3cog3rot = 0;\n// Configuration 4 Cog Rotation Values\nlet con4cog1rot = 80;\nlet con4cog2rot = 292;\nlet con4cog3rot = 97;\n// Configuration 5 Cog Rotation Values\nlet con5cog1rot = 160;\nlet con5cog2rot = 225;\nlet con5cog3rot = 130;\n\n// We determine the current configuration based on the initial rotation of Cog 2\nlet cog2IR = cog2d.document.data.rotation;\n// Since there are 5 rotations, we give a range of 72 to determine the best estimate of the current configuration\nfunction currentconfig(cog2IR){\n\tlet ccnum = 0;\n\tif ((cog2IR < 108) && (cog2IR > 36)){\n\t\tccnum = 2;}\n\telse if ((cog2IR < 180) && (cog2IR > 108)){\n\t\tccnum = 1;}\n\telse if ((cog2IR < 252) && (cog2IR > 180)){\n\t\tccnum = 5;}\n\telse if ((cog2IR < 324) && (cog2IR > 252)){\n\t\tccnum = 4;}\n\telse{\n\t\tccnum = 3;}\n\treturn ccnum;\n}\n\n/*\nConfig 1\nFrom Config 1: Nothing\nFrom Config 2: Cog 2 Clockwise\nFrom Config 3: Cog 2 Clockwise\nFrom Config 4: Cog 2 Counterclockwise\nFrom Config 5: Cog 2 Counterclockwise\n*/\nasync function config1(){\n\t// If Configuration 2 or 3\n\tif((currentconfig(cog2IR) == 2) || (currentconfig(cog2IR) == 3)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + con1cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(con1cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + con1cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 4 or 5\n\telse if((currentconfig(cog2IR) == 4) || (currentconfig(cog2IR) == 5)){\n\t\tnew Sequence()\n\t\t    .sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(con1cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + con1cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(con1cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 1\n\telse{\n\t\treturn;\n\t}\n}\n\n/*\nConfig 2\nFrom Config 1: Cog 2 Counterclockwise\nFrom Config 2: Nothing\nFrom Config 3: Cog 2 Clockwise\nFrom Config 4: Cog 2 Clockwise\nFrom Config 5: Cog 2 Counterclockwise\n*/\nasync function config2(){\n\t// If Configuration 3 or 4\n\tif((currentconfig(cog2IR) == 3) || (currentconfig(cog2IR) == 4)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + con2cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(con2cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + con2cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 1 or 5\n\telse if((currentconfig(cog2IR) == 1) || (currentconfig(cog2IR) == 5)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(con2cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + con2cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(con2cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 2\n\telse{\n\t\treturn;\n\t}\n}\n\n/*\nConfig 3\nFrom Config 1: Cog 2 Counterclockwise\nFrom Config 2: Cog 2 Counterclockwise\nFrom Config 3: Nothing\nFrom Config 4: Cog 2 Clockwise\nFrom Config 5: Cog 2 Clockwise\n*/\nasync function config3(){\n\t// If Configuration 4 or 5\n\tif((currentconfig(cog2IR) == 4) || (currentconfig(cog2IR) == 5)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + con3cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(con3cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + con3cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 1 or 2\n\telse if((currentconfig(cog2IR) == 1) || (currentconfig(cog2IR) == 2)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(con3cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + con3cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(con3cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 3\n\telse{\n\t\treturn;\n\t}\n}\n\n/*\nConfig 4\nFrom Config 1: Cog 2 Clockwise\nFrom Config 2: Cog 2 Counterclockwise\nFrom Config 3: Cog 2 Counterclockwise\nFrom Config 4: Nothing\nFrom Config 5: Cog 2 Clockwise\n*/\nasync function config4(){\n\t// If Configuration 1 or 5\n\tif((currentconfig(cog2IR) == 1) || (currentconfig(cog2IR) == 5)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + con4cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(con4cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + con4cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 2 or 3\n\telse if((currentconfig(cog2IR) == 2) || (currentconfig(cog2IR) == 3)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(con4cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + con4cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(con4cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 4\n\telse{\n\t\treturn;\n\t}\n}\n\n/*\nConfig 5\nFrom Config 1: Cog 2 Clockwise\nFrom Config 2: Cog 2 Clockwise\nFrom Config 3: Cog 2 Counterclockwise\nFrom Config 4: Cog 2 Counterclockwise\nFrom Config 5: Nothing\n*/\nasync function config5(){\n\t// If Configuration 1 or 2\n\tif((currentconfig(cog2IR) == 1) || (currentconfig(cog2IR) == 2)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + con5cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(con5cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + con5cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 3 or 4\n\telse if((currentconfig(cog2IR) == 3) || (currentconfig(cog2IR) == 4)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(con5cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + con5cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(con5cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\t// If Configuration 5\n\telse{\n\t\treturn;\n\t}\n}\n\nlet d = new Dialog({\n\ttitle: `Gears of Hate Config`,\n\tcontent: `Pick the new configuration.`,\n\tbuttons: {\n\t\tone: {\n\t\t\tlabel: `1`,\n\t\t\tcallback: () => {\n\t\t\t\tconfig1();\n\t\t\t\td.render(true);\n\t\t\t}\n\t\t},\n\t\ttwo: {\n\t\t\tlabel: `2`,\n\t\t\tcallback: () => {\n\t\t\t\tconfig2();\n\t\t\t\td.render(true);\n\t\t\t}\n\t\t},\n\t\tthree: {\n\t\t\tlabel: `3`,\n\t\t\tcallback: () => {\n\t\t\t\tconfig3();\n\t\t\t\td.render(true);\n\t\t\t}\n\t\t},\n\t\tfour: {\n\t\t\tlabel: `4`,\n\t\t\tcallback: () => {\n\t\t\t\tconfig4();\n\t\t\t\td.render(true);\n\t\t\t}\n\t\t},\n\t\tfive: {\n\t\t\tlabel: `5`,\n\t\t\tcallback: () => {\n\t\t\t\tconfig5();\n\t\t\t\td.render(true);\n\t\t\t}\n\t\t},\n\t},\n});\nd.render(true)","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Macro.NbEw1fh2vCpgXP7Y"}},"_id":"Kz2D4VtS8b7SdyZe"}
{"name":"Wraith Spiders","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/BtdtQQsniBLdJkOY/spider-face.svg","scope":"global","command":"let params = \n[{\n    filterType: \"globes\",\n    filterId: \"glowingGlobes\",\n    time: 0,\n    color: 0x577569,\n    distortion: 0.025,\n    scale: 240,\n    alphaDiscard: false,\n    zOrder: 1,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.00005, \n        animType: \"move\" \n      }\n    }\n},\n{\n    filterType: \"liquid\",\n    filterId: \"myMantle\",\n    color: 0x144c24,\n    time: 0,\n    blend: 8,\n    intensity: 0.00005,\n    spectral: false,\n    scale: 100,\n    animated :\n    {\n       time : \n       { \n          active: true, \n          speed: 0.0015, \n          animType: \"move\" \n       },\n       intensity : \n       { \n          active: true, \n          animType: \"syncCosOscillation\",\n          loopDuration: 30000,\n          val1: 0.5, \n          val2: 1 \n       },\n       scale: \n       { \n          active: true, \n          animType: \"syncCosOscillation\",\n          loopDuration: 30000,\n          val1: 1, \n          val2: 0.5 \n       }\n    }\n},\n];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"advanced-macros":{"runAsGM":false},"importid":"BtdtQQsniBLdJkOY","core":{"sourceId":"Macro.RKBVZLg9Vp4NZPlQ"}},"_id":"NUUQlZSQvoX2BJWA"}
{"name":"Gear Config 4","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/TlRPuR3r7l3ElYum/pokecog.svg","scope":"global","command":"let token1 = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\")\nlet token2 = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\")\nlet token3 = canvas.drawings.get(\"zU6rNZriEQNvRWA3\")\n\n new Sequence()\n   .animation()\n     .on(token1)\n     .rotateIn(98, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token2)\n     .rotateIn(292, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token3)\n     .rotateIn(68, 2000,{ease: \"linear\"})\n   .play();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false},"importid":"TlRPuR3r7l3ElYum","core":{"sourceId":"Macro.FYOsQJptReYkCRjj"}},"_id":"P4EMcONDLgPlm2kM"}
{"name":"Gear config 1","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/TlRPuR3r7l3ElYum/pokecog.svg","scope":"global","command":"let token1 = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\")\nlet token2 = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\")\nlet token3 = canvas.drawings.get(\"zU6rNZriEQNvRWA3\")\n\nnew Sequence()\n   .animation()\n     .on(token1)\n     .rotateIn(218, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token2)\n     .rotateIn(142, 2000,{ease: \"linear\"})\n   .animation()  \n     .on(token3)\n     .rotateIn(233, 2000,{ease: \"linear\"})\n   .play();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false},"importid":"YRVNJMh8xi8nnrq3","core":{"sourceId":"Macro.YylWQGl01oNxJs0N"}},"_id":"S6t2WOrQ7Pn5buFb"}
{"name":"C - Electric Multi-Filters","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"// works better with tokens or tiles with no shadows\r\nlet params =\r\n[{\r\n    filterType: \"shadow\",\r\n    blur: 2,\r\n    quality: 5,\r\n    distance: 0,\r\n    alpha: 1.,\r\n    padding: 100,\r\n    color: 0xFFFFFF,\r\n    animated:\r\n    {\r\n        blur:     \r\n        { \r\n           active: true, \r\n           loopDuration: 500, \r\n           animType: \"syncCosOscillation\", \r\n           val1: 2, \r\n           val2: 4\r\n        },\r\n     }\r\n},\r\n{\r\n    filterType: \"electric\",\r\n    color: 0xFFFFFF,\r\n    time: 0,\r\n    blend: 2,\r\n    intensity: 10,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0020, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"Qa3HNdumwMnsg7ph","core":{"sourceId":"Macro.mouOrTZNAPv66i0C"}},"_id":"SYFwRzdmAZETxg0s"}
{"name":"Gear Config 2","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/TlRPuR3r7l3ElYum/pokecog.svg","scope":"global","command":"let token1 = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\")\nlet token2 = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\")\nlet token3 = canvas.drawings.get(\"zU6rNZriEQNvRWA3\")\n\n new Sequence()\n   .animation()\n     .on(token1)\n     .rotateIn(286, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token2)\n     .rotateIn(72, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token3)\n     .rotateIn(288, 2000,{ease: \"linear\"})\n   .play();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false},"importid":"gPLOsaMZIVadsMbc","core":{"sourceId":"Macro.zwX4EPUdeWhBUa16"}},"_id":"Wao9UTRUeeqDVxZe"}
{"name":"Fog","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"modules/fxmaster/icons/weather/fog.png","scope":"global","command":"Hooks.call('updateWeather', [{\"type\":\"embers\",\"options\":{\"density\":\"86\",\"speed\":\"49\",\"scale\":\"64\",\"tint\":\"#f0430a\",\"direction\":\"32\",\"apply_tint\":true}},{\"type\":\"fog\",\"options\":{\"density\":\"5\",\"speed\":\"47\",\"scale\":\"70\",\"tint\":\"#ff0000\",\"direction\":\"47\",\"apply_tint\":true}}]);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"furnace":{"runAsGM":false},"importid":"9PMx9VW5QI5Kl1xb","core":{"sourceId":"Macro.0fxQGYNJpjvnbkKm"}},"_id":"ZuMjb6tmCFkNaOLf"}
{"name":"32 - T01 - Solar Ripples (ripples)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params = \n[{\n    filterType: \"ripples\",\n    filterId: \"SolarRipples\",\n    color: 0xFFFFFF,\n    time: 0,\n    alphaDiscard: true,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: 0.00009, \n        animType: \"move\" \n      }\n    }\n}]\n\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"iBvLb8NXbucaqEdZ","core":{"sourceId":"Macro.lrNuyjPJLYFuPqYJ"}},"_id":"dW9WSXzB8Dan45JS"}
{"name":"34 - T02 - Dead (splash)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/fYZk8IBDh0Vcklfh/Screenshot 2021-01-30 at 08.38.15.png","scope":"global","command":"let params =\n    [{\n        filterType: \"splash\",\n        filterId: \"mySplash\",\n        color: 0x900505,\n        padding: 45,\n        time: Math.random()*500,\n        seed: Math.random()/49,\n        splashFactor: Math.random()/5,\n        spread: Math.random()/4 + 4,\n        blend: 1,\n        dimX: 1,\n        dimY: 1,\n        cut: true,\n        textureAlphaBlend: false\n    }];\n// Delete all filters on the selected tokens/tiles\nTokenMagic.deleteFiltersOnSelected();\nTokenMagic.addUpdateFiltersOnSelected(params);\ntoken.update({\"bar1.attribute\": \"\"});","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"fYZk8IBDh0Vcklfh","core":{"sourceId":"Macro.i4CH1YogcCvYZMLJ"}},"_id":"efrx6W63zdtu5N0K"}
{"name":"Gear Config 5","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/TlRPuR3r7l3ElYum/pokecog.svg","scope":"global","command":"let token1 = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\")\nlet token2 = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\")\nlet token3 = canvas.drawings.get(\"zU6rNZriEQNvRWA3\")\n\n new Sequence()\n   .animation()\n     .on(token1)\n     .rotateIn(160, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token2)\n     .rotateIn(218, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token3)\n     .rotateIn(129, 2000,{ease: \"linear\"})\n   .play();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false},"importid":"ztsnPKeDTN0AxyEo","core":{"sourceId":"Macro.NNrTZNaxUTChKW3x"}},"_id":"evKotrMGOkVBNLlG"}
{"name":"29 - T01 - Foul Fog (xfog)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params = \r\n[{\r\n    filterType: \"xfog\",\r\n    filterId: \"foulfog\",\r\n    color: 0xFFFFFF,\r\n    time: 0,\r\n    animated:\r\n        {\r\n            time:\r\n            {\r\n                active: true,\r\n                speed: 0.0005,\r\n                animType: \"move\"\r\n            }\r\n        }\r\n}]\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"9bLorgh3b3F1jeYx","core":{"sourceId":"Macro.60XuztzxTWC4zih1"}},"_id":"gpwhlMBZnEtQ3f9P"}
{"name":"11 - Blur","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"blur\",\r\n    filterId: \"myBlur\",\r\n    padding: 10,\r\n    quality: 4.0,\r\n    blur: 0,\r\n    blurX: 0,\r\n    blurY: 0,\r\n    animated:\r\n    {\r\n        blurX: \r\n        { \r\n           active: true, \r\n           animType: \"syncCosOscillation\", \r\n           loopDuration: 500, \r\n           val1: 0, \r\n           val2: 6\r\n        },\r\n        blurY: \r\n        { \r\n           active: true, \r\n           animType: \"syncCosOscillation\", \r\n           loopDuration: 750, \r\n           val1: 0, \r\n           val2: 6}\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"MXE4Dsg5wsGwVAB6","core":{"sourceId":"Macro.87RrUKZh3r35gNTG"}},"_id":"h2FdjJg0ozwY9id0"}
{"name":"Gear config 3","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/TlRPuR3r7l3ElYum/pokecog.svg","scope":"global","command":"let token1 = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\")\nlet token2 = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\")\nlet token3 = canvas.drawings.get(\"zU6rNZriEQNvRWA3\")\n\n new Sequence()\n   .animation()\n     .on(token1)\n     .rotateIn(0, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token2)\n     .rotateIn(0, 2000,{ease: \"linear\"})\n   .animation()\n     .on(token3)\n     .rotateIn(0, 2000,{ease: \"linear\"})\n   .play();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"advanced-macros":{"runAsGM":false},"importid":"VwIA9xEaFIUh38ek","core":{"sourceId":"Macro.slbKDul5eGPYjwpk"}},"_id":"isdYMTlOhfkTsfAj"}
{"name":"24 - T03 - Poisoned Smoke","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"field\",\r\n    filterId: \"mySmokeField\",\r\n    shieldType: 3,\r\n    gridPadding: 1,\r\n    color: 0x60CC70,\r\n    time: 0,\r\n    blend: 0,\r\n    intensity: 0.9,\r\n    lightAlpha: 1,\r\n    lightSize: 0.7,\r\n    scale: 1,\r\n    radius: 1,\r\n    chromatic: false,\r\n    zOrder: 512,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0015, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"9wgxpGW0usD1SF1K","core":{"sourceId":"Macro.HkpxNYUQ49dvIN8O"}},"_id":"j2hrpWFT6Fd33BV9"}
{"name":"34 - T03 - Blood Bath (splash)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\r\n    [{\r\n        filterType: \"splash\",\r\n        filterId: \"mySplash\",\r\n        color: 0xFF0505,\r\n        padding: 80,\r\n        time: 0,\r\n        seed: 0.10,\r\n        splashFactor: 2.25,\r\n        spread: 7,\r\n        blend: 1,\r\n        dimX: 1,\r\n        dimY: 1,\r\n        cut: true,\r\n        animated :\r\n        {\r\n          time : \r\n          { \r\n            active: true, \r\n            speed: 0.0009, \r\n            animType: \"move\" \r\n          }\r\n        }\r\n    }];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"CtarISHmPgWgVs5h","core":{"sourceId":"Macro.XRbhon2kxgT9CLIg"}},"_id":"j2i1Iw7ygnNON1JS"}
{"name":"22 - Smoke","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/CiSgLXDlUzzKkJwZ/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"smoke\",\r\n    filterId: \"mySmoke\",\r\n    color: 0x50FFAA,\r\n    time: 0,\r\n    blend: 2,\r\n    dimX: 1,\r\n    dimY: 1,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0015, \r\n        animType: \"move\"\r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.2zRNjnw7Ps26h5xz"},"importid":"GkfCf5wJv9iPnMT7"},"_id":"lIjAB2eWBMOR3c9T"}
{"name":"F - 02 - Delete filters on Selected","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"// Delete all filters on the selected tokens/tiles\r\nTokenMagic.deleteFiltersOnSelected();","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"79b99UwD3NO0TSz4","core":{"sourceId":"Macro.95OTjQvEkjS4otCU"}},"_id":"mM3NxHD3IQMXf3PW"}
{"name":"18 - Electric","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/CiSgLXDlUzzKkJwZ/dice-target.svg","scope":"global","command":"// Because the shader is dynamically compiled,\r\n// intensity is a one time init and can't be updated.\r\n// you must delete the filters to \"change\" it.\r\nlet params =\r\n[{\r\n    filterType: \"electric\",\r\n    filterId: \"myElectric\",\r\n    color: 0xFFFFFF,\r\n    time: 0,\r\n    blend: 1,\r\n    intensity: 5,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0020, \r\n        animType: \"move\" \r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Compendium.tokenmagic.tmMacros.YJjeB7N0L1rGfZD2"},"importid":"Hs10h4f5m0OrY6Od"},"_id":"nFlBdwROL5ZqD3C1"}
{"name":"26 - T01 - Spectral Body (liquid)","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/CiSgLXDlUzzKkJwZ/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"liquid\",\r\n    filterId: \"mySpectralBody\",\r\n    color: 0x20AAEE,\r\n    time: 0,\r\n    blend: 8,\r\n    intensity: 4,\r\n    spectral: true,\r\n    scale: 0.9,\r\n    animated :\r\n    {\r\n       time : \r\n       { \r\n          active: true, \r\n          speed: 0.0010, \r\n          animType: \"move\" \r\n       },\r\n       color: \r\n       {\r\n          active: true, \r\n          loopDuration: 6000, \r\n          animType: \"colorOscillation\", \r\n          val1:0xFFFFFF, \r\n          val2:0x00AAFF\r\n       }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Compendium.tokenmagic.tmMacros.SpvVIO1eHYG96TGX"},"importid":"O4pksVve1x3eMP3M"},"_id":"oY3P2GlYFfAyMsv9"}
{"name":"23 - T03 - Spectral Images","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"// Another extreme example...\r\nlet params =\r\n[{\r\n    filterType: \"images\",\r\n    filterId: \"mySpectralImages\",\r\n    time: 0, \r\n    blend: 4,\r\n    nbImage: 4, \r\n    padding: 0,\r\n    alphaImg: 0.5, \r\n    alphaChr: 0.0,\r\n    ampX: 0.10, \r\n    ampY: 0.10,\r\n    zOrder: 20,\r\n    animated :\r\n    {\r\n      time: \r\n      { \r\n        speed: 0.0010, \r\n        animType: \"move\" \r\n      },\r\n      ampX:\r\n      {\r\n        val1: 0, val2: 0.22,\r\n        animType: \"syncCosOscillation\",\r\n        loopDuration: 2500\r\n      },\r\n      ampY:\r\n      {\r\n        val1: 0, val2: 0.28,\r\n        animType: \"syncCosOscillation\",\r\n        loopDuration: 2500,\r\n      },\r\n      alphaChr:        \r\n      {\r\n        val1: 1, val2: 0,\r\n        animType: \"syncCosOscillation\",\r\n        loopDuration: 2500\r\n      },\r\n      alphaImg:        \r\n      {\r\n        val1: 0.2, val2: 0.8,\r\n        animType: \"syncSinOscillation\",\r\n        loopDuration: 2500\r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"GcmzWphaAWzFm1SG","core":{"sourceId":"Macro.ya2ygmPiVPg8Am1N"}},"_id":"p6Hw2IwkA8IvXhRX"}
{"name":"Fire â€ ","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/qnpFcoRHHAcCkqv5/celebration-fire.svg","scope":"global","command":"let params =\n[{\n    filterType: \"xfire\",\n    filterId: \"myFireV2XFire\",\n    time: 0,\n    blend: 1,\n    amplitude: 1,\n    dispersion: 0,\n    chromatic: false,\n    scaleX: 1.5,\n    scaleY: 1,\n    inlay: false,\n    animated :\n    {\n      time : \n      { \n        active: true, \n        speed: -0.0015, \n        animType: \"move\" \n      }\n    }\n}];\n\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"combat-utility-belt":{"macroTrigger":""},"importid":"qnpFcoRHHAcCkqv5","core":{"sourceId":"Macro.MZwQbqgJ6vf8NRGq"}},"_id":"qr9YJSXd0yb1mlrM"}
{"name":"20 - Waves","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"// Below, you can turn on the anchor animation.\r\nlet params =\r\n[{\r\n    filterType: \"wave\",\r\n    filterId: \"myWaves\",\r\n    time: 0,\r\n    anchorX: 0.5,\r\n    anchorY: 0.5,\r\n    strength: 0.015,\r\n    frequency: 120,\r\n    color: 0xFFFFFF,\r\n    maxIntensity: 2.5,\r\n    minIntensity: 0.9,\r\n    padding:10,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0085, \r\n        animType: \"move\" \r\n      },\r\n      anchorX :\r\n      {\r\n        active: false,\r\n        val1: 0.15,\r\n        val2: 0.85,\r\n        animType: \"syncChaoticOscillation\",\r\n        loopDuration: 20000\r\n      },\r\n      anchorY :\r\n      {\r\n        active: false,\r\n        val1: 0.15,\r\n        val2: 0.85,\r\n        animType: \"syncSinOscillation\",\r\n        loopDuration: 20000\r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"EsSmZOzXCDN4G7u1","core":{"sourceId":"Macro.kS8t8JqfanyPchAw"}},"_id":"vxODkkQuaFhAmvdo"}
{"name":"21 - Flood","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"worlds/tomb-module-dev/adventures/Adventure_1642955066282/macro/images/79b99UwD3NO0TSz4/dice-target.svg","scope":"global","command":"let params =\r\n[{\r\n    filterType: \"flood\",\r\n    filterId: \"myFlood\",\r\n    time: 0,\r\n    color: 0x0020BB,\r\n    billowy: 0.43,\r\n    tintIntensity: 0.72,\r\n    glint: 0.31,\r\n    scale: 70,\r\n    padding: 10,\r\n    animated :\r\n    {\r\n      time : \r\n      { \r\n        active: true, \r\n        speed: 0.0006, \r\n        animType: \"move\"\r\n      }\r\n    }\r\n}];\r\n\r\nTokenMagic.addUpdateFiltersOnSelected(params);","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"importid":"K8uezpupUyPkUne5","core":{"sourceId":"Macro.xaJofP5XDYGxpaX8"}},"_id":"wpIMRKIHsECYCKCU"}
{"name":"Gears Rotation v3","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"icons/svg/dice-target.svg","scope":"global","command":"// Sound File: Replace with the path from within your Foundry Data directory\nlet sound_file = \"Audio/Sounds/gears_of_hate_2_15s.mp3\"\n\n// Animation Style - See https://easings.net/\nlet easing_func = \"easeInOutCubic\"\n\n// Cog Rotation Delay (milliseconds)\nlet cog1delay = 300;\nlet cog2delay = 600;\nlet cog3delay = 900;\n\n// Cog Drawings\nlet cog1d = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\");\nlet cog2d = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\");\nlet cog3d = canvas.drawings.get(\"zU6rNZriEQNvRWA3\");\n\n// Configuration 1 Cog Rotation Values\nlet con1cog1rot = 198;\nlet con1cog2rot = 140;\nlet con1cog3rot = 232;\n// Configuration 2 Cog Rotation Values\nlet con2cog1rot = 284;\nlet con2cog2rot = 72;\nlet con2cog3rot = 288;\n// Configuration 3 Cog Rotation Values\nlet con3cog1rot = 0;\nlet con3cog2rot = 0;\nlet con3cog3rot = 0;\n// Configuration 4 Cog Rotation Values\nlet con4cog1rot = 80;\nlet con4cog2rot = 292;\nlet con4cog3rot = 97;\n// Configuration 5 Cog Rotation Values\nlet con5cog1rot = 160;\nlet con5cog2rot = 225;\nlet con5cog3rot = 130;\n\n// We determine the current configuration based on the initial rotation of Cog 2\nlet cog2IR = cog2d.document.data.rotation;\n// Since there are 5 rotations, we give a range of 72 to determine the best estimate of the current configuration\nfunction currentConfig(cog2IR){\n\tlet configNum = 0;\n\tif ((cog2IR < 108) && (cog2IR > 36)){\n\t\tconfigNum = 2;}\n\telse if ((cog2IR < 180) && (cog2IR > 108)){\n\t\tconfigNum = 1;}\n\telse if ((cog2IR < 252) && (cog2IR > 180)){\n\t\tconfigNum = 5;}\n\telse if ((cog2IR < 324) && (cog2IR > 252)){\n\t\tconfigNum = 4;}\n\telse{\n\t\tconfigNum = 3;}\n\treturn configNum;\n}\n\n/*\ncw1, cw2: Configs to Rotate Clockwise from\nccw1, ccw2: Configs to Rotate Counterclockwise from\ncog1rot, cog2rot, cog3rot: Cog Rotation Values for the Desired Configuration\n*/\nasync function configRotator(cw1, cw2, ccw1, ccw2, cog1rot, cog2rot, cog3rot){\n\tconst current = currentConfig(cog2IR);\n\t// Clockwise Rotations as default\n\tlet firstLast = -360;\n\tlet middle = 0;\n\n\tif (current === ccw1 || current === ccw2) {\n\t\t// Counterclockwise Rotations\n\t\tfirstLast = 0;\n\t\tmiddle = -360;\n\t}\n\tnew Sequence()\n\t\t.sound()\n\t\t\t.file(sound_file)\n\t\t.animation()\n\t\t\t.on(cog1d)\n\t\t\t.rotateIn(firstLast + cog1rot, 2000, { ease: easing_func, delay: cog1delay })\n\t\t.animation()\n\t\t\t.on(cog2d)\n\t\t\t.rotateIn(middle + cog2rot, 2000, { ease: easing_func, delay: cog2delay })\n\t\t.animation()\n\t\t\t.on(cog3d)\n\t\t\t.rotateIn(firstLast + cog3rot, 2000, { ease: easing_func, delay: cog3delay })\n    .play();\n}\n\nlet d = new Dialog({\n\ttitle: `Gears of Hate Config`,\n\tcontent: `Pick the new configuration.`,\n\tbuttons: {\n\t\tone: {\n            // CONFIG 1\n\t\t\tlabel: `1`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 2 or 3\n                // Counterclockwise: Config 4 or 5\n\t\t\t\tconfigRotator(2, 3, 4, 5, con1cog1rot, con1cog2rot, con1cog3rot)\n\t\t\t}\n\t\t},\n\t\ttwo: {\n            // CONFIG 2\n\t\t\tlabel: `2`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 3 or 4\n                // Counterclockwise: Config 5 or 1\n                configRotator(3, 4, 5, 1, con2cog1rot, con2cog2rot, con2cog3rot)\n\t\t\t}\n\t\t},\n\t\tthree: {\n            // CONFIG 3\n\t\t\tlabel: `3`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 4 or 5\n                // Counterclockwise: Config 1 or 2\n                configRotator(4, 5, 1, 2, con3cog1rot, con3cog2rot, con3cog3rot)\n\t\t\t}\n\t\t},\n\t\tfour: {\n            // CONFIG 4\n\t\t\tlabel: `4`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 5 or 1\n                // Counterclockwise: Config 2 or 3\n                configRotator(5, 1, 2, 3, con4cog1rot, con4cog2rot, con4cog3rot)\n\t\t\t}\n\t\t},\n\t\tfive: {\n            // CONFIG 5\n\t\t\tlabel: `5`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 1 or 2\n                // Counterclockwise: Config 3 or 4\n                configRotator(1, 2, 3, 4, con5cog1rot, con5cog2rot, con5cog3rot)\n\t\t\t}\n\t\t},\n\t},\n});\nd.render(true)","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Macro.k0AVxazCs3xueHsR"}},"_id":"ZVx2JhxWFSV3mbaq"}
{"name":"Gears Rotation Dialog v2","type":"script","author":"hyn5lX7Y2eyGWGXT","img":"icons/svg/dice-target.svg","scope":"global","command":"//Sound File\n// Replace with the path from within your Foundry Data directory\nlet sound_file = \"modules/tors-tomb-of-the-nine-gods/assets/sounds/gears_of_hate_2_15s.mp3\"\n\n//Animation Style - See https://easings.net/\nlet easing_func = \"easeInOutCubic\"\n\n// Cog Drawings\nlet cog1d = canvas.drawings.get(\"mMa1oXBgiu4NZtcq\");\nlet cog2d = canvas.drawings.get(\"zEwVmZ4ByRE5uDYm\");\nlet cog3d = canvas.drawings.get(\"zU6rNZriEQNvRWA3\");\n// Configuration 1 Cog Rotation Values\nlet con1cog1rot = 198;\nlet con1cog2rot = 140;\nlet con1cog3rot = 232;\n// Configuration 2 Cog Rotation Values\nlet con2cog1rot = 284;\nlet con2cog2rot = 72;\nlet con2cog3rot = 288;\n// Configuration 3 Cog Rotation Values\nlet con3cog1rot = 0;\nlet con3cog2rot = 0;\nlet con3cog3rot = 0;\n// Configuration 4 Cog Rotation Values\nlet con4cog1rot = 80;\nlet con4cog2rot = 292;\nlet con4cog3rot = 97;\n// Configuration 5 Cog Rotation Values\nlet con5cog1rot = 160;\nlet con5cog2rot = 225;\nlet con5cog3rot = 130;\n\n// We determine the current configuration based on the initial rotation of Cog 2\nlet cog2IR = cog2d.document.data.rotation;\n// Since there are 5 rotations, we give a range of 72 to determine the best estimate of the current configuration\nfunction currentConfig(cog2IR){\n\tlet configNum = 0;\n\tif ((cog2IR < 108) && (cog2IR > 36)){\n\t\tconfigNum = 2;}\n\telse if ((cog2IR < 180) && (cog2IR > 108)){\n\t\tconfigNum = 1;}\n\telse if ((cog2IR < 252) && (cog2IR > 180)){\n\t\tconfigNum = 5;}\n\telse if ((cog2IR < 324) && (cog2IR > 252)){\n\t\tconfigNum = 4;}\n\telse{\n\t\tconfigNum = 3;}\n\treturn configNum;\n}\n\n/*\ncw1, cw2: Configs to Rotate Clockwise from\nccw1, ccw2: Configs to Rotate Counterclockwise from\ncog1rot, cog2rot, cog3rot: Cog Rotation Values for the Desired Configuration\n*/\nasync function configRotator(cw1, cw2, ccw1, ccw2, cog1rot, cog2rot, cog3rot){\n\t// Clockwise Rotations\n\tif((currentConfig(cog2IR) == cw1) || (currentConfig(cog2IR) == cw2)){\n\t\tnew Sequence()\n\t\t\t.sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(-360 + cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(-360 + cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n    }\n\t// Counterclockwise Rotations\n\telse if((currentConfig(cog2IR) == ccw1) || (currentConfig(cog2IR) == ccw2)){\n\t\tnew Sequence()\n\t\t    .sound()\n\t\t\t    .file(sound_file)\n\t\t\t.animation()\n\t\t\t\t.on(cog1d)\n\t\t\t\t.rotateIn(cog1rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog2d)\n\t\t\t\t.rotateIn(-360 + cog2rot, 2000,{ease: easing_func})\n\t\t\t.animation()\n\t\t\t\t.on(cog3d)\n\t\t\t\t.rotateIn(cog3rot, 2000,{ease: easing_func})\n\t\t\t.play();\n\t}\n\telse{\n\t\treturn;\n\t}\n}\n\nlet d = new Dialog({\n\ttitle: `Gears of Hate Config`,\n\tcontent: `Pick the new configuration.`,\n\tbuttons: {\n\t\tone: {\n            // CONFIG 1\n\t\t\tlabel: `1`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 2 or 3\n                // Counterclockwise: Config 4 or 5\n\t\t\t\tconfigRotator(2, 3, 4, 5, con1cog1rot, con1cog2rot, con1cog3rot)\n\t\t\t}\n\t\t},\n\t\ttwo: {\n            // CONFIG 2\n\t\t\tlabel: `2`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 3 or 4\n                // Counterclockwise: Config 5 or 1\n                configRotator(3, 4, 5, 1, con2cog1rot, con2cog2rot, con2cog3rot)\n\t\t\t}\n\t\t},\n\t\tthree: {\n            // CONFIG 3\n\t\t\tlabel: `3`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 4 or 5\n                // Counterclockwise: Config 1 or 2\n                configRotator(4, 5, 1, 2, con3cog1rot, con3cog2rot, con3cog3rot)\n\t\t\t}\n\t\t},\n\t\tfour: {\n            // CONFIG 4\n\t\t\tlabel: `4`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 5 or 1\n                // Counterclockwise: Config 2 or 3\n                configRotator(5, 1, 2, 3, con4cog1rot, con4cog2rot, con4cog3rot)\n\t\t\t}\n\t\t},\n\t\tfive: {\n            // CONFIG 5\n\t\t\tlabel: `5`,\n\t\t\tcallback: () => {\n                // Clockwise: Config 1 or 2\n                // Counterclockwise: Config 3 or 4\n                configRotator(1, 2, 3, 4, con5cog1rot, con5cog2rot, con5cog3rot)\n\t\t\t}\n\t\t},\n\t},\n});\nd.render(true)","folder":null,"sort":0,"permission":{"default":0,"hyn5lX7Y2eyGWGXT":3},"flags":{"core":{"sourceId":"Macro.jfMnCx1LHqbRwthP"}},"_id":"s5eZYzi6RcoDPINu"}
